(this["webpackJsonpreact-material-ui"]=this["webpackJsonpreact-material-ui"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n(0),r=n(10),i=n.n(r),s=(n(92),n(93),n(12)),o=n(36),l=n.n(o),j=n(48),u=n(13),h=n(139),d=n(74),b=n.n(d),p=n(75),x=n.n(p),O=n(163),f=n(144),m=n(143),g=n(145),v=n(146),w=n(147),y=n(148),S=n(149),k="http://localhost:8080/api/v1/list",C="interviewtest2.m@gmail.com",N="gdrive-file-selected-id",I="gdrive-file-selected-name",T=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(u.a)(i,2),o=s[0],d=s[1],p=function(){d(!1)};Object(c.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){r(e)}))}),[]);var T=function(e){var t=e.treeItems;return Object(a.jsx)(h.a,{defaultCollapseIcon:Object(a.jsx)(b.a,{}),defaultExpandIcon:Object(a.jsx)(x.a,{}),children:D(t)})},D=function e(t){return t.map((function(t){var n=void 0;return t.nodes&&t.nodes.length>0&&(n=e(t.nodes)),Object(a.jsx)(O.a,{nodeId:t.id,label:t.text,children:n,onLabelClick:function(e){return function(e,t,n){e.preventDefault(),localStorage.setItem(N,t),localStorage.setItem(I,n)}(e,t.id,t.text)}},t.id)}))};return Object(a.jsx)(m.a,{container:!0,spacing:3,className:"TreeView",children:Object(a.jsxs)(m.a,{item:!0,xs:6,children:[Object(a.jsx)(T,{treeItems:n}),Object(a.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){d(!0)},style:{marginTop:20},children:"Transfer ownership"}),localStorage.getItem(N)&&Object(a.jsxs)(g.a,{open:o,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(v.a,{id:"alert-dialog-title",children:"Transfer ownership?"}),Object(a.jsx)(w.a,{children:Object(a.jsx)(y.a,{id:"alert-dialog-description",children:"The ownership of ".concat(localStorage.getItem(I),"\n                            will be transferred to ").concat(C,". You will\n                            still have the writer permissions on the file. Do you want to continue?")})}),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(f.a,{onClick:p,color:"primary",children:"Cancel"}),Object(a.jsx)(f.a,{onClick:function(){var e=localStorage.getItem(N);console.log("sharing file "+e);fetch("".concat("http://localhost:8080/api/v1/change-owner","?id=").concat(e,"&new-owner-email=").concat(C)).then((function(e){return e.json()})).then((function(e){console.log(e.message),alert(e.message)})),p()},color:"primary",autoFocus:!0,children:"Continue"})]})]})]})})},D=n(161),B=n(151),E=n(78),G=n(152),L=n(153),J=n(154),R=n(155),W=n(156),q=n(150),A=Object(q.a)({table:{minWidth:250,maxWidth:500}}),F=[{path:"/",sidebarName:"Browse Drive",component:T},{path:"/search",sidebarName:"Search",component:function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),s=Object(u.a)(i,2),o=s[0],h=s[1],d=A();return Object(a.jsxs)("div",{className:"SearchPage",children:[Object(a.jsx)(D.a,{id:"standard-basic",label:"Search Query",onChange:function(e){r(e.target.value)}}),Object(a.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){function e(){return(e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,fetch("http://localhost:8080/api/v1/search?query=".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then((function(e){h(e)}))},children:"Search"}),o&&Object(a.jsx)(B.a,{component:E.a,className:"SearchResultTable",children:Object(a.jsxs)(G.a,{className:d.table,"aria-label":"simple table",children:[Object(a.jsx)(L.a,{children:Object(a.jsxs)(J.a,{children:[Object(a.jsx)(R.a,{children:"Name"}),Object(a.jsx)(R.a,{align:"right",children:"Type"})]})}),Object(a.jsx)(W.a,{children:o.map((function(e){return Object(a.jsxs)(J.a,{children:[Object(a.jsx)(R.a,{component:"th",scope:"row",children:e.text}),Object(a.jsx)(R.a,{align:"right",children:e.type})]},e.text)}))})]})})]})}}],K=n(41),P=n(162),Q=n(157),V=n(158),Y=n(159),z=n(39),H=n(165),M=n(164),U=n(166),X=n(160),Z=n(76),$=n.n(Z),_=Object(q.a)((function(e){return Object(P.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},drawer:{width:300},fullList:{width:"auto"}})})),ee=Object(s.f)((function(e){var t=_(),n=Object(c.useState)(!1),r=Object(u.a)(n,2),i=r[0],s=r[1],o=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&s(e)}};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(Q.a,{position:"static",children:Object(a.jsxs)(V.a,{children:[Object(a.jsx)(Y.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:o(!0),children:Object(a.jsx)($.a,{})}),Object(a.jsx)(z.a,{variant:"h6",className:t.title,children:"Google Drive Sharing App"})]})})}),Object(a.jsx)(H.a,{classes:{paper:t.drawer},open:i,onClose:o(!1),children:Object(a.jsx)("div",{className:t.fullList,role:"presentation",onClick:o(!1),onKeyDown:o(!1),children:Object(a.jsx)(M.a,{children:F.map((function(t,n){return Object(a.jsx)(K.b,{to:t.path,style:{textDecoration:"none"},children:Object(a.jsx)(U.a,{selected:(c=t.path,e.location.pathname===c),children:Object(a.jsx)(X.a,{primary:t.sidebarName})})},n);var c}))})})})]})}));var te=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ee,{}),Object(a.jsx)(s.c,{children:F.map((function(e){return Object(a.jsx)(s.a,{exact:!0,path:e.path,children:Object(a.jsx)(e.component,{})},e.path)}))})]})};i.a.render(Object(a.jsx)(K.a,{children:Object(a.jsx)(te,{})}),document.getElementById("root"))},92:function(e,t,n){},93:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.8e643b88.chunk.js.map